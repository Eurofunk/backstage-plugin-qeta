import express from 'express';
import Router from 'express-promise-router';
// @eslint-ignore
import { stringifyEntityRef } from '@backstage/catalog-model';

const entitiesResponse = [
  {
    apiVersion: 'backstage.io/v1alpha1',
    kind: 'Component',
    metadata: {
      description: 'The place to be, for great artists',
      etag: 'ZjU2MWRkZWUtMmMxZS00YTZiLWFmMWMtOTE1NGNiZDdlYzNk',
      tags: ['java'],
      name: 'artist-web',
      uid: '2152f463-549d-4d8d-a94d-ce2b7676c6e2',
    },
    spec: {
      lifecycle: 'production',
      owner: 'artist-relations-team',
      type: 'website',
      system: 'public-websites',
    },
  },
  {
    apiVersion: 'backstage.io/v1alpha1',
    kind: 'Component',
    metadata: {
      description: 'Another component',
      etag: 'ZjU2MWRkfwfefefwewweewfwefwef',
      tags: ['java'],
      name: 'artist-search',
      uid: '2152f463-123d-4d8d-a94d-ce2b7676c6e2',
      title: 'Artist Search',
    },
    spec: {
      lifecycle: 'production',
      owner: 'artist-relations-team',
      type: 'website',
      system: 'public-websites',
    },
  },
];

const images: Record<string, string> = {
  thor: 'data:image/jpeg;base64,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',
};

export const createCatalogMockRouter = async (): Promise<express.Router> => {
  const router = Router();
  router.use(express.json());
  router.get('/health', (_, response) => {
    response.json({ status: 'ok' });
  });

  router.get('/entities', (_, response) => {
    response.json(entitiesResponse);
  });

  router.get('/entities/by-name/:kind/*/:name', (req, response) => {
    const kind = req.params.kind;
    const name = req.params.name;
    if (kind === 'user') {
      response.json({
        apiVersion: 'backstage.io/v1alpha1',
        kind: 'User',
        metadata: {
          name: name,
          title: name
            .split(/[_.-]+/)
            .map(a => a.charAt(0).toUpperCase() + a.slice(1))
            .join(' '),
        },
        spec: {
          profile: {
            picture:
              req.params.name in images ? images[req.params.name] : undefined,
          },
        },
      });
      return;
    }
    const found = entitiesResponse.find(e => e.metadata.name === name);
    if (found) {
      response.json(found);
      return;
    }
    response.json(entitiesResponse.at(1));
  });

  router.post('/entities/by-refs', (request, response) => {
    const entityRefs = request.body.entityRefs;
    if (!entityRefs || entityRefs.length === 0) {
      response.json([]);
      return;
    }

    response.json({
      items: entitiesResponse.filter(e =>
        entityRefs.includes(stringifyEntityRef(e)),
      ),
    });
  });

  return router;
};
